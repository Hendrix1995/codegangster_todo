(this["webpackJsonpcodegang-todo"]=this["webpackJsonpcodegang-todo"]||[]).push([[0],{108:function(e,t,s){},109:function(e,t,s){},161:function(e,t,s){},162:function(e,t,s){},163:function(e,t,s){},164:function(e,t,s){},166:function(e,t,s){},167:function(e,t,s){},168:function(e,t,s){},170:function(e,t,s){"use strict";s.r(t);var a=s(1),n=s.n(a),c=s(33),o=s.n(c),i=s(7),r=s(18),l=s(6),d=(s(79),s(80),s(9)),j=s.n(d),u=s(2),b=function(e){var t=e.userInfo,s=e.logoutHandler;Object(l.f)();return Object(u.jsxs)("div",{className:"header--wrapper",children:[Object(u.jsx)("span",{className:"header--todo__logo"}),Object(u.jsx)("i",{class:"fas fa-user-circle"}),Object(u.jsxs)("span",{className:"span--Username",children:[t.userId,"\ub2d8"]}),Object(u.jsx)(r.b,{to:"/",className:"Link__login",style:{textDecoration:"none"},children:Object(u.jsx)("button",{className:"btn--logout",onClick:function(){s()},children:"Logout"})})]})},h=(s(108),function(e){var t=e.datas,s=e.setDatas,a=new Date;return Object(u.jsx)("div",{className:"filterbar__container",children:Object(u.jsxs)("div",{className:"filterbar__wrapper",children:[Object(u.jsxs)("select",{className:"dropdown",onChange:function(e){if("D-day"===e.target.value){var a=t.slice().sort((function(e,t){return new Date(e.d_day)-new Date(t.d_day)}));s(a)}if("Create At"===e.target.value){var n=t.slice().sort((function(e,t){return new Date(t.createdAt)-new Date(e.createdAt)}));s(n)}},children:["\ub4dc\ub86d\ub2e4\uc6b4",Object(u.jsx)("option",{className:"option",children:"--\uc815\ub82c\ubc29\uc2dd \uc120\ud0dd--"}),Object(u.jsx)("option",{className:"option",children:"D-day"}),Object(u.jsx)("option",{className:"option",children:"Create At"})]}),Object(u.jsxs)("div",{className:"filterbar__currentDate",children:[a.getFullYear(),"\ub144",a.getMonth()+1,"\uc6d4",a.getDate(),"\uc77c"]})]})})}),O=s(10),m=(s(109),s(27)),p=s.n(m),x=s(57),f=s.n(x),g=(s(118),s(71));Object(x.registerLocale)("ko",g.a);var _=function(e){var t=e.datas,s=e.setDatas,n=e.userInfo,c=Object(a.useState)(""),o=Object(i.a)(c,2),r=o[0],l=o[1],d=Object(a.useState)(new Date),b=Object(i.a)(d,2),h=b[0],m=b[1];return Object(u.jsxs)("div",{className:"Container",children:[Object(u.jsxs)("div",{className:"MakeTodo_input",children:[Object(u.jsx)("i",{class:"fas fa-pencil-alt"}),Object(u.jsx)("span",{className:"MakeTodo_title",children:"MAKE TODO!"}),Object(u.jsx)("i",{class:"fas fa-calendar-day"}),Object(u.jsx)(f.a,{className:"MakeTodo_input__calendar",selected:h,onChange:function(e){return m(e)},dateFormat:"yyyy\ub144 MM\uc6d4 dd\uc77c",minDate:new Date}),r?Object(u.jsx)("button",{className:"MakeTodo_input--submit",onClick:function(e){j.a.post("https://localhost:4000/todos",{userId:n.userId,todo:r,d_day:h}).then((function(e){return s([].concat(Object(O.a)(t),[e.data.data]))})).catch((function(e){return e})),l("")},children:"ADD"}):Object(u.jsx)("button",{className:"MakeTodo_input--submit",onClick:function(){return alert("\uc785\ub825\ub41c \ub0b4\uc6a9\uc774 \uc5c6\uc2b5\ub2c8\ub2e4!")},children:"ADD"})]}),Object(u.jsx)("div",{className:"MakeTodo_input--message",children:Object(u.jsx)("input",{className:"input_message",type:"text",value:r,onChange:function(e){l(e.target.value)},placeholder:"\uc77c\uc815\uc744 \uc785\ub825\ud558\uc138\uc694"})})]})},v=(s(161),p()(),p()(),p()(),p()(),p()(),function(e){var t=e.datas,s=e.setDatas;return Object(u.jsxs)("div",{className:"count_Container",children:[t.length?Object(u.jsxs)("span",{className:"span--remainTodos",children:["\ub0a8\uc740 \ud560 \uc77c: ",t.length]}):Object(u.jsx)("span",{className:"span--remainTodos",children:"\ube44\uc5b4\uc788\uc5b4\uc694!"}),Object(u.jsx)("button",{onClick:function(){j.a.delete("https://localhost:4000/todos"),s([])},className:"btn--clearAll",children:"Clear All"})]})}),N=(s(162),function(e){var t=e.datas,s=e.setDatas,a=function(e){var t=new Date,s=new Date(e)-t.getTime();return Math.ceil(s/864e5)};return Object(u.jsx)("div",{className:"todo_Container",children:Object(u.jsx)("ul",{className:"todoLists",children:t.map((function(e){return Object(u.jsxs)("li",{className:"todoList",children:[Object(u.jsxs)("div",{className:"todoMenu",children:[Object(u.jsxs)("div",{className:"todoDate",children:["D - ",a(e.d_day)]}),Object(u.jsx)("div",{className:"createTodo",children:new Date(e.createdAt).toLocaleDateString("ko-kr")}),Object(u.jsxs)("div",{className:"buttons",children:[Object(u.jsx)("span",{className:"todoContent_checkbox",children:Object(u.jsx)("div",{className:"checkbox_group",children:Object(u.jsx)("input",{type:"checkbox",id:"check",onChange:function(a){return function(e,a){var n=e.target;j.a.put("https://localhost:4000/todos",{id:a,isChecked:!0===n.checked?1:0});var c=t.slice();c=c.map((function(e){return e.id===a&&(e.isChecked=!e.isChecked),e})),s(c)}(a,e.id)},checked:e.isChecked})})}),Object(u.jsx)("span",{className:"todoContent_delete",children:Object(u.jsx)("button",{className:"todoContent_deleteButton",onClick:function(){return function(e,a){j.a.delete("https://localhost:4000/todos",{data:{id:a}});var n=t.filter((function(e){return e.id!==a}));s(n)}(e.content,e.id)},children:Object(u.jsx)("i",{className:"far fa-trash-alt"})})})]})]}),Object(u.jsx)("div",{className:e.isChecked?"todoContent checked":"todoContent unChecked",children:e.todo})]},e.id)}))})})}),w=(s(163),function(){return Object(u.jsx)("div",{className:"copyright",children:"Copyright @ 2021 Code Gangsters"})}),C=function(e){var t=e.userInfo,s=e.logoutHandler,c=Object(a.useState)([]),o=Object(i.a)(c,2),r=o[0],l=o[1];return Object(a.useEffect)((function(){j.a.post("https://localhost:4000/getTodos",{id:t.id}).then((function(e){return l(e.data)})).catch((function(e){return console.log(e)}))}),[]),Object(u.jsx)(n.a.Fragment,{children:Object(u.jsxs)("div",{className:"home__container",children:[Object(u.jsx)(b,{userInfo:t,logoutHandler:s}),Object(u.jsx)(h,{datas:r,setDatas:l}),Object(u.jsx)(_,{datas:r,setDatas:l,userInfo:t}),Object(u.jsx)(v,{datas:r,setDatas:l}),Object(u.jsx)("div",{className:"listPart",children:Object(u.jsx)(N,{datas:r,setDatas:l})}),Object(u.jsx)(w,{})]})})},k=(s(164),function(e){var t=e.loginHandler,s=Object(a.useState)(""),n=Object(i.a)(s,2),c=n[0],o=n[1],l=Object(a.useState)(""),d=Object(i.a)(l,2),b=d[0],h=d[1],O=function(e){"userId"===e.target.className&&o(e.target.value),"password"===e.target.className&&h(e.target.value)};return Object(u.jsxs)("section",{className:"loginTodolist__container",children:[Object(u.jsx)("div",{className:"loginTodolist__logo",children:"Code Gangsters TodoList"}),Object(u.jsxs)("div",{className:"loginTodolist__inputField",children:[Object(u.jsxs)("div",{className:"loginTodolist__inputId",children:[Object(u.jsx)("i",{class:"fas fa-user"}),Object(u.jsx)("input",{className:"userId",type:"text",onChange:O})]}),Object(u.jsxs)("div",{className:"loginTodolist__inputPassword",children:[Object(u.jsx)("i",{class:"fas fa-unlock-alt"}),Object(u.jsx)("input",{className:"password",type:"password",onChange:O})]}),Object(u.jsx)(r.b,{to:"/",style:{textDecoration:"none"},children:Object(u.jsx)("div",{className:"loginTodolist__BtnContainer",children:Object(u.jsx)("button",{type:"submit",className:"loginBtn",onClick:function(){j.a.post("https://localhost:4000/login",{userId:c,password:b},{withCredentials:!0}).then((function(e){return t(e.data)})).catch((function(e){return alert("ID\uc640 Password\ub97c \ud655\uc778\ud574 \uc8fc\uc138\uc694!")}))},children:"Login"})})}),Object(u.jsx)(r.b,{to:"/signup",style:{textDecoration:"none"},children:Object(u.jsx)("div",{className:"loginTodolist__BtnContainer",children:Object(u.jsx)("button",{className:"singUpBtn",children:"Sign Up"})})})]}),Object(u.jsx)("div",{className:"footer",children:Object(u.jsx)(w,{})})]})}),y=s(24),D=s(72),I=(s(166),function(){var e=Object(l.f)(),t=Object(a.useState)(!1),s=Object(i.a)(t,2),n=s[0],c=s[1],o=Object(D.a)({mode:"onChange"}),r=o.register,d=o.handleSubmit,b=o.formState.errors,h=o.watch,O=function(e){console.log(b)};return Object(a.useEffect)((function(){c(h("verifyPassword")===h("password"))}),[h("verifyPassword"),h("password")]),Object(u.jsxs)("section",{className:"loginTodolist__container",children:[Object(u.jsx)("div",{className:"loginTodolist__logo",children:"Code Gangsters TodoList Sign Up"}),Object(u.jsx)("form",{onSubmit:d((function(t){j.a.post("https://localhost:4000/signup",{userId:t.userId,password:t.password,email:t.email}).then((function(t){e.push("/")})).catch((function(e){return alert("\uc911\ubcf5\ub41c ID \uc785\ub2c8\ub2e4.")}))})),children:Object(u.jsxs)("div",{className:"loginTodolist__inputField",children:[Object(u.jsxs)("div",{className:"loginTodolist__inputId",children:[Object(u.jsx)("i",{class:"fas fa-user"}),Object(u.jsx)("input",Object(y.a)(Object(y.a)({onKeyUp:O,className:"userId",type:"text",placeholder:"ID",name:"userId"},r("userId",{pattern:/^[a-z0-9_-]{4,20}$/})),{},{required:!0}))]}),Object(u.jsxs)("div",{className:"loginTodolist__inputPassword",children:[Object(u.jsx)("i",{class:"fas fa-unlock-alt"}),Object(u.jsx)("input",Object(y.a)(Object(y.a)({name:"password",className:"password",type:"password",placeholder:"Password"},r("password",{pattern:/(?=.*\d)(?=.*[a-zA-ZS]).{8,}/,required:!0})),{},{required:!0,onInvalid:function(e){e.target.setCustomValidity("\ube44\ubc00\ubc88\ud638\ub294 8\uae00\uc790 \uc774\uc0c1, \uc601\ubb38, \uc22b\uc790 \uc870\ud569\uc774\uc5b4\uc57c \ud569\ub2c8\ub2e4.")},onInput:function(e){e.target.setCustomValidity("")}}))]}),Object(u.jsxs)("div",{className:"loginTodolist__verifyPassword",children:[Object(u.jsx)("i",{class:"fas fa-lock"}),Object(u.jsx)("input",Object(y.a)(Object(y.a)({name:"verifyPassword",className:"password",type:"password",placeholder:"Verify Password"},r("verifyPassword",{required:!0})),{},{required:!0,onInvalid:function(e){e.target.setCustomValidity("\ube44\ubc00\ubc88\ud638\uac00 \uc77c\uce58\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.")},onInput:function(e){e.target.setCustomValidity("")}}))]}),Object(u.jsxs)("div",{className:"loginTodolist__email",children:[Object(u.jsx)("i",{class:"fas fa-envelope-open-text"}),Object(u.jsx)("input",Object(y.a)({name:"email",className:"email",type:"email",placeholder:"E-Mail"},r("email",{pattern:/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/,required:!0})))]}),b.userId&&Object(u.jsx)("div",{name:"userId_err",className:"validation__check__msg",onKeyUp:O,children:"* \uc544\uc774\ub514\ub294 \uc18c\ubb38\uc790, \uc22b\uc790 4~20\uae00\uc790\uc5ec\uc57c \ud569\ub2c8\ub2e4."}),b.email&&Object(u.jsx)("div",{name:"email_err",className:"validation__check__msg",onChange:O,children:"* \uc62c\ubc14\ub978 \ud615\uc2dd\uc758 \uc774\uba54\uc77c\uc744 \uc785\ub825\ud574 \uc8fc\uc138\uc694."}),b.password&&Object(u.jsx)("div",{name:"password_err",className:"validation__check__msg",onChange:O,children:"* \ube44\ubc00\ubc88\ud638\ub294 8\uae00\uc790 \uc774\uc0c1, \uc601\ubb38, \uc22b\uc790 \uc870\ud569\uc774\uc5b4\uc57c \ud569\ub2c8\ub2e4."}),n?Object(u.jsx)("div",{className:"validation__check__msg"}):Object(u.jsx)("div",{name:"passwordNotMatch_err",className:"validation__check__msg",onChange:O,children:"* \ube44\ubc00\ubc88\ud638\uac00 \uc77c\uce58\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."}),Object(u.jsx)("div",{className:"loginTodolist__BtnContainer",children:Object(u.jsx)("button",{type:"submit",className:"singUpBtn",children:"Sign Up"})})]})}),Object(u.jsx)("div",{className:"footer",children:Object(u.jsx)(w,{})})]})});s(167);var T=function(){var e=Object(a.useState)(!1),t=Object(i.a)(e,2),s=t[0],n=t[1],c=Object(a.useState)({}),o=Object(i.a)(c,2),d=o[0],b=o[1],h=function(e){j.a.get("https://localhost:4000/tokenrequest",{headers:{authorization:"Bearer ".concat(e)},withCredentials:!0}).then((function(e){b(e.data.data.userInfo),n(!0)})).catch((function(e){return console.log(e)}))};return Object(a.useEffect)((function(){h()}),[]),Object(u.jsx)(r.a,{children:Object(u.jsx)("div",{className:"App",children:Object(u.jsx)(l.c,{children:s?Object(u.jsx)(l.a,{exact:!0,path:"/",children:Object(u.jsx)(C,{userInfo:d,logoutHandler:function(){j.a.get("https://localhost:4000/logout",{withCredentials:!0}).then((function(e){b({}),n(!1)}))}})}):Object(u.jsx)("main",{children:Object(u.jsxs)("section",{className:"features",children:[Object(u.jsx)(l.a,{exact:!0,path:"/",children:Object(u.jsx)(k,{loginHandler:function(e){h(e.data)},setIsLogin:n})}),Object(u.jsx)(l.a,{path:"/signup",children:Object(u.jsx)(I,{})})]})})})})})};s(168);o.a.render(Object(u.jsx)(T,{}),document.getElementById("root"))},79:function(e,t,s){},80:function(e,t,s){}},[[170,1,2]]]);
//# sourceMappingURL=main.36b43c1d.chunk.js.map